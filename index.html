<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Minha Ficha de Treino - Allp Fit</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>Minha Ficha de Treino - Allp Fit</h1>
    <p class="sub-info">**Fase de Adapta√ß√£o - 4 Semanas**</p>
    <p class="sub-detail">Objetivo: Recondicionamento Muscular, Fortalecimento Geral, Adapta√ß√£o Articular</p>

    <div class="info-box">
      **Instru√ß√µes:** Marque os exerc√≠cios que voc√™ realizou, insira o peso utilizado e clique em "Gerar Resumo do Treino" para criar um texto compartilh√°vel.
    </div>

    <!-- Exemplo: Treino Dia 1 -->
    <div class="section" id="dia1">
      <h2>DIA 1: PEITO E OMBRO</h2>
      <div class="exercise-list">
        <div class="exercise-item">
          <input type="checkbox" id="d1e1" />
          <label for="d1e1" class="exercise-label">
            <img src="gifs/supino-reto.gif" class="exercise-gif" alt="Supino M√°quina">
            Supino Reto
          </label>
          <span class="exercise-details">15/12/10</span>
          <input type="text" class="weight-input" placeholder="Peso (kg)" />
        </div>
        <div class="exercise-item">
          <input type="checkbox" id="d1e2" />
          <label for="d1e1" class="exercise-label">
            <img src="gifs/supino-inclinado.gif" class="exercise-gif" alt="Supino M√°quina">
            Supino Inclinado
          </label>
          <span class="exercise-details">15/12/10</span>
          <input type="text" class="weight-input" placeholder="Peso (kg)" />
        </div>
        <div class="exercise-item">
          <input type="checkbox" id="d1e3" />
          <label for="d1e1" class="exercise-label">
            <img src="gifs/peck-deck.gif" class="exercise-gif" alt="Supino M√°quina">
            Peck deck 
          </label>
          <span class="exercise-details">3 x 12-15</span>
          <input type="text" class="weight-input" placeholder="Peso (kg)" />
        </div>
        <div class="exercise-item">
          <input type="checkbox" id="d1e4" />
          <label for="d1e1" class="exercise-label">
            <img src="gifs/desenvolvimento-arnold.gif" class="exercise-gif" alt="Supino M√°quina">
            Desenvolvimento p/ frente arnold
          </label>
          <span class="exercise-details">3 x 8</span>
          <input type="text" class="weight-input" placeholder="Peso (kg)" />
        </div>
        <div class="exercise-item">
          <input type="checkbox" id="d1e5" />
          <label for="d1e1" class="exercise-label">
            <img src="gifs/elevacao-lateral.gif" class="exercise-gif" alt="Supino M√°quina">
            Eleva√ß√£o lateral
          </label>
          <span class="exercise-details">3 x 8</span>
          <input type="text" class="weight-input" placeholder="Peso (kg)" />
        </div>
        <div class="exercise-item">
          <input type="checkbox" id="d1e6" />
          <label for="d1e1" class="exercise-label">
            <img src="gifs/elevacao-frontal.gif" class="exercise-gif" alt="Supino M√°quina">
            Eleva√ß√£o frontal
          </label>
          <span class="exercise-details">3 x 8</span>
          <input type="text" class="weight-input" placeholder="Peso (kg)" />
        </div>
        <!-- Adicione outros exerc√≠cios aqui -->
      </div>
    </div>

    <button class="generate-button" onclick="gerarResumoTreino()">Gerar Resumo do Treino</button>
    <pre id="output-text"></pre>
  </div>

  <script>
  function getFormattedDate() {
      const today = new Date();
      return today.toLocaleDateString('pt-BR', {
      weekday: 'long',
      year: 'numeric',
      month: 'long',
      day: 'numeric'
      });
  }

  function gerarResumoTreino() {
      const outputTextElement = document.getElementById('output-text');
      let resumo = `üìä Resumo do Treino de Hoje - Allp Fit üèãÔ∏è‚Äç‚ôÇÔ∏è\n`;
      resumo += `Data: ${getFormattedDate()}\n\n‚úÖ Exerc√≠cios Realizados:\n`;

      const checkedExercises = document.querySelectorAll('.exercise-item input[type="checkbox"]:checked');
      if (checkedExercises.length === 0) {
      outputTextElement.textContent = "Ops! Nenhum exerc√≠cio marcado.";
      outputTextElement.style.display = 'block';
      return;
      }

      checkedExercises.forEach(checkbox => {
      const item = checkbox.closest('.exercise-item');
      const labelText = item.querySelector('.exercise-label')?.innerText.trim();
      const details = item.querySelector('.exercise-details')?.textContent.trim();
      const weightInput = item.querySelector('.weight-input');
      const peso = weightInput?.value.trim() || 'Peso n√£o informado';
      const sectionTitle = item.closest('.section')?.querySelector('h2')?.textContent;

      if (!resumo.includes(`\n   ‚Ä¢ ${sectionTitle}\n`)) {
          resumo += `\n   ‚Ä¢ ${sectionTitle}\n`;
      }

      resumo += `     - ${labelText} (${details}) | Peso: ${peso}\n`;

      item.classList.add('completed');
      });

      resumo += `\nüí™ Treino conclu√≠do com sucesso! #VoltaAoTreino #AllpFit #FocoNoTreino`;

      outputTextElement.textContent = resumo;
      outputTextElement.style.display = 'block';

      if (navigator.share) {
      navigator.share({
          title: 'Resumo do Treino - Allp Fit',
          text: resumo
      }).catch(() => {});
      }
  }

  // Salva automaticamente os pesos no localStorage ao digitar
  document.addEventListener('input', function (e) {
      if (e.target.classList.contains('weight-input')) {
      const exerciseId = e.target.closest('.exercise-item').querySelector('input[type="checkbox"]').id;
      localStorage.setItem(`peso-${exerciseId}`, e.target.value);
      }
  });

  // Restaura os pesos salvos do localStorage ao carregar a p√°gina
  window.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.exercise-item').forEach(item => {
      const checkbox = item.querySelector('input[type="checkbox"]');
      const inputPeso = item.querySelector('.weight-input');
      const pesoSalvo = localStorage.getItem(`peso-${checkbox.id}`);
      if (pesoSalvo) {
          inputPeso.value = pesoSalvo;
      }
      });
  });
  </script>

</body>
</html>
